(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{1289:(e,t,r)=>{"use strict";r.d(t,{Al:()=>s,sX:()=>d,Ay:()=>p,HD:()=>y,ZE:()=>u,Jy:()=>c,VH:()=>g,Bo:()=>o,wv:()=>m});var a=r(51990);let i=e=>{{let t=localStorage.getItem("cart_".concat(e));if(t)return JSON.parse(t)}return[]},n=e=>"cart_".concat(e),l=(0,a.Z0)({name:"cart",initialState:{cartItems:[],selectedItems:[],isAllSelected:!0,loading:!1,itemsSum:0,discountSum:0,userId:0,currentItem:{id:0,url:"",in_cart_count:0,seller_id:0,cover_image:"",title:"",is_in_favourites:!1,price:0,old_price:0,images:[],category_id:0}},reducers:{initializeCart:(e,t)=>{try{e.loading=!0,e.userId=t.payload,e.cartItems=i(t.payload),e.selectedItems=e.cartItems.map(e=>e.id)}catch(e){console.error(e)}finally{e.loading=!1}},deleteSelectedItems:e=>{e.cartItems=e.cartItems.filter(t=>!e.selectedItems.includes(t.id))},toggleSelectAll:e=>{let t=!e.isAllSelected;e.isAllSelected=t,t?e.selectedItems=e.cartItems.map(e=>e.id):e.selectedItems=[]},setCart:(e,t)=>{try{let r;e.loading=!0;let a=t.payload;for(r in a)Object.hasOwnProperty.call(a,r)&&Object.hasOwnProperty.call(e,r)&&(e[r]=a[r])}catch(e){console.error(e)}finally{e.loading=!1}},addEtiketka:(e,t)=>{try{if(!e.userId)return;e.loading=!0;let r=e.cartItems.find(e=>e.id===t.payload.id);if(r)r.in_cart_count=(r.in_cart_count||0)+1;else{let r={...t.payload,in_cart_count:1};e.cartItems.push(r)}localStorage.setItem(n(e.userId),JSON.stringify(e.cartItems))}catch(e){console.error(e)}finally{e.loading=!1}},removeEtiketka:(e,t)=>{try{if(!e.userId)return;e.loading=!0;let r=e.cartItems.find(e=>e.id===t.payload);r&&r.in_cart_count>1?r.in_cart_count=(r.in_cart_count||0)-1:e.cartItems=e.cartItems.filter(e=>e.id!==t.payload),localStorage.setItem(n(e.userId),JSON.stringify(e.cartItems))}catch(e){console.error(e)}finally{e.loading=!1}},clearCart:e=>{try{e.loading=!0,e.cartItems=[],localStorage.removeItem(n(e.userId))}finally{e.loading=!1}}}}),{setCart:o,addEtiketka:s,removeEtiketka:c,clearCart:d,initializeCart:u,toggleSelectAll:m,deleteSelectedItems:y}=l.actions,g=e=>e.cart,p=l.reducer},1597:()=>{},5635:()=>{},17865:()=>{},26816:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>l,Cl:()=>n,Ur:()=>i});let a=(0,r(51990).Z0)({name:"login",initialState:{phoneNumber:""},reducers:{setPhoneNumber:(e,t)=>{e.phoneNumber=t.payload}}}),{setPhoneNumber:i}=a.actions,n=e=>e.login,l=a.reducer},42856:(e,t,r)=>{Promise.resolve().then(r.bind(r,52001)),Promise.resolve().then(r.t.bind(r,17865,23)),Promise.resolve().then(r.t.bind(r,69336,23)),Promise.resolve().then(r.t.bind(r,5635,23)),Promise.resolve().then(r.t.bind(r,1597,23))},52001:(e,t,r)=>{"use strict";r.d(t,{default:()=>A});var a=r(95155),i=r(12115),n=r(62017),l=r(60677);let o=()=>{let e=(0,n.j)();(0,i.useEffect)(()=>{let t=/iPad|iPhone|iPod/.test(navigator.userAgent),r=navigator.userAgent.includes("Android");e((0,l.dI)({deviceType:t?"ios":r?"android":"default",loaded:!0}))},[e])};var s=r(1289),c=r(99051),d=r(60439),u=r(60027);let m=async()=>{try{return(await u.uE.get("/towns/get-list/")).data.data}catch(e){throw console.error(e),e}},y=()=>{let e=(0,n.j)(),{handleGetUser:t}=(0,d.b)(),r=(0,i.useRef)(0),a=(0,i.useCallback)(async()=>{try{let t=await m();if(!t)return;e((0,l.dI)({cities:t.map(e=>e.name)}))}catch(e){console.error(e)}},[e]);(0,i.useEffect)(()=>{a(),t("10")},[a,t]),(0,i.useEffect)(()=>{10!==r.current&&0!==r.current&&(e((0,s.sX)()),e((0,c.Qe)())),e((0,s.ZE)(10)),e((0,c.tR)(10)),r.current=10},[10,e])};function g(e){let{children:t}=e;return o(),y(),(0,a.jsx)(a.Fragment,{children:t})}var p=r(34540),f=r(51990),h=r(99107);let _=(0,f.Z0)({name:"catalogue",initialState:{allFilters:{}},reducers:{setCatalogue:(e,t)=>{try{let r,a=t.payload;for(r in a)Object.hasOwnProperty.call(e,r)&&Object.hasOwnProperty.call(a,r)&&(e[r]=a[r])}catch(e){console.error(e)}}}}),{setCatalogue:I}=_.actions,v=_.reducer;var w=r(26816),O=r(93457),b=r(55584);let S=(0,f.U1)({reducer:{navigation:l.Ay,categories:h.Ay,catalogue:v,cart:s.Ay,login:w.Ay,user:O.Ay,favourites:c.Ay,company:b.Ay},devTools:!0});function F(e){let{children:t}=e;return(0,a.jsx)(p.Kq,{store:S,children:t})}function A(e){let{children:t}=e;return(0,a.jsx)(F,{children:(0,a.jsx)(g,{children:t})})}},55584:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>g,Ip:()=>y,Ey:()=>u,d$:()=>d});var a=r(51990),i=r(32813),n=r.n(i);let l={surname:"",name:"",lastname:""},o={personal:"status",status:"name",name:"city",city:null},s={stage:"personal",companyData:{id:0,name:"",phone:"",email:"",is_agree_confident:!1,organization_type:"organization",organization_inn:0,organization_name:"",organization_ogrn:0,organization_kpp:0,organization_address:"",shop_name:"",warehouse_town:"",is_agree_contact:!1,bank_details:{bank_account_number:0,bik:0,correspondent_account:0,bank_name:"",address:""},general_manager:l,accountant:l,contact_phone:"",contact_email:"",moder_status:"",url:"",avatar:""},nextStage:o.personal},c=(0,a.Z0)({name:"company",initialState:s,reducers:{setStage:(e,t)=>{e.stage=t.payload,e.nextStage=o[t.payload]},setCompanyData:(e,t)=>{e.companyData=n()({},e.companyData,t.payload)},setCompany:(e,t)=>{let r,a=t.payload;for(r in a)Object.hasOwnProperty.call(a,r)&&Object.hasOwnProperty.call(e,r)&&(e[r]=a[r])}}}),{setStage:d,setCompanyData:u,setCompany:m}=c.actions,y=e=>e.company,g=c.reducer},60027:(e,t,r)=>{"use strict";r.d(t,{DF:()=>i,UA:()=>n,uE:()=>a});let a=r(23464).A.create({baseURL:"https://testapi.one-apple.com/api",headers:{"Content-Type":"application/json",Accept:"application/json"}}),i=async(e,t)=>{try{return(await a.post("/users/send-sms_code/",{phone:e})).data}catch(e){throw console.error(e),e}},n=async(e,t)=>{try{return(await a.post("/users/check-sms_code/",{code:e,phone:t})).data.data}catch(e){throw console.error(e),e}}},60439:(e,t,r)=>{"use strict";r.d(t,{b:()=>s});var a=r(12115),i=r(62017),n=r(93457),l=r(60027);let o=async e=>{try{return(await l.uE.get("/users/get-infoByID/".concat(e))).data.data}catch(e){throw console.error(e),e}},s=()=>{let e=(0,i.j)();return{handleGetUser:(0,a.useCallback)(async t=>{try{let r=await o(t);r&&r.id&&e((0,n.gV)(r))}catch(e){console.error(e)}},[e])}}},60677:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>l,dI:()=>i,z0:()=>n});let a=(0,r(51990).Z0)({name:"navigation",initialState:{modalOpen:!1,deviceType:"android",headerHeight:0,tabsHeight:null,loaded:!1,cities:[]},reducers:{setNavigation:(e,t)=>{try{let r,a=t.payload;for(r in a)Object.hasOwnProperty.call(a,r)&&Object.hasOwnProperty.call(e,r)&&(e[r]=a[r])}catch(e){console.error(e)}}}}),{setNavigation:i}=a.actions,n=e=>e.navigation,l=a.reducer},62017:(e,t,r)=>{"use strict";r.d(t,{G:()=>n,j:()=>i});var a=r(34540);let i=a.wA,n=a.d4},69336:()=>{},81035:(e,t,r)=>{"use strict";r.d(t,{e:()=>a});let a={id:0,url:"",seller_id:0,title:"",category_id:0,cover_image:"",images:[],price:0,old_price:0}},93457:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>l,mB:()=>n,gV:()=>i});let a=(0,r(51990).Z0)({name:"user",initialState:{userInfo:{id:0,name:"",surname:"",email:"",phone:"",registration_date:"18.07.2025",avatar:"",in_cart_ids:[],in_favourites_ids:[]},currentRole:"user",userId:""},reducers:{setUser:(e,t)=>{try{let r,a=t.payload;for(r in a)Object.hasOwnProperty.call(a,r)&&Object.hasOwnProperty.call(e,r)&&(e[r]=a[r])}catch(e){console.error(e)}}}}),{setUser:i}=a.actions,n=e=>e.user,l=a.reducer},99051:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>g,LB:()=>s,Qe:()=>d,RI:()=>y,Tq:()=>m,kg:()=>c,tR:()=>u});var a=r(51990);let i={favouriteItems:[],userId:0,loading:!1,currentItem:r(81035).e},n=e=>{{let t=localStorage.getItem("favourites_".concat(e));if(t)return JSON.parse(t)}return[]},l=e=>"favourites_".concat(e),o=(0,a.Z0)({name:"favourites",initialState:i,reducers:{initializeFavourites:(e,t)=>{try{e.loading=!0,e.userId=t.payload,e.favouriteItems=n(t.payload)}catch(e){throw console.error(e),e}finally{e.loading=!1}},setFavourites:(e,t)=>{try{let r,a=t.payload;for(r in a)Object.hasOwnProperty.call(a,r)&&Object.hasOwnProperty.call(e,r)&&(e[r]=a[r])}catch(e){throw console.error(e),e}},addFavEtiketka:(e,t)=>{try{if(!e.userId)return;e.loading=!0,e.favouriteItems.find(e=>e.id===t.payload.id)||e.favouriteItems.push(t.payload),localStorage.setItem(l(e.userId),JSON.stringify(e.favouriteItems))}catch(e){throw console.error(e),e}finally{e.loading=!1}},removeFavEtiketka:(e,t)=>{try{e.loading=!0,e.favouriteItems=e.favouriteItems.filter(e=>e.id!==t.payload),localStorage.setItem(l(e.userId),JSON.stringify(e.favouriteItems))}catch(e){throw console.error(e),e}finally{e.loading=!1}},clearFavourites:e=>{try{e.loading=!0,e.favouriteItems=[],localStorage.setItem(l(e.userId),JSON.stringify(e.favouriteItems))}finally{e.loading=!1}}}}),{addFavEtiketka:s,removeFavEtiketka:c,clearFavourites:d,initializeFavourites:u,setFavourites:m}=o.actions,y=e=>e.favourites,g=o.reducer},99107:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>s,Jk:()=>o,U2:()=>i,hi:()=>l,zw:()=>n});let a=(0,r(51990).Z0)({name:"categories",initialState:{currentFilter:["all"],currentFiltersNames:["Все"],categories:[]},reducers:{setCategories:(e,t)=>{e.categories=t.payload},addFilter:(e,t)=>{let r=t.payload;if("all"===r.url){e.currentFilter=["all"],e.currentFiltersNames=["Все"];return}if(e.currentFilter.includes("all")&&(e.currentFilter=[],e.currentFiltersNames=[]),e.currentFilter.includes(r.url)){e.currentFilter=e.currentFilter.filter(e=>e!==r.url),e.currentFiltersNames=e.currentFiltersNames.filter(e=>e!==r.name),0===e.currentFilter.length&&(e.currentFilter=["all"],e.currentFiltersNames=["Все"]);return}e.currentFilter.push(r.url)},clearFilters:e=>{e.currentFilter=[]}}}),{addFilter:i,setCategories:n,clearFilters:l}=a.actions,o=e=>e.categories,s=a.reducer}},e=>{var t=t=>e(e.s=t);e.O(0,[6630,635,3464,2813,8441,1684,7358],()=>t(42856)),_N_E=e.O()}]);